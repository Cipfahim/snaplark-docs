import{_ as n,o as a,c as e,ag as i}from"./chunks/framework.ClfqGeJY.js";const b=JSON.parse('{"title":"Project Structure","description":"","frontmatter":{},"headers":[],"relativePath":"guide/project-structure.md","filePath":"guide/project-structure.md"}'),r={name:"guide/project-structure.md"};function p(t,s,l,c,o,d){return a(),e("div",null,[...s[0]||(s[0]=[i(`<h1 id="project-structure" tabindex="-1">Project Structure <a class="header-anchor" href="#project-structure" aria-label="Permalink to &quot;Project Structure&quot;">​</a></h1><p>This document provides a complete map of the Snaplark codebase, explaining the purpose of each file and directory.</p><h2 id="root-directory" tabindex="-1">Root Directory <a class="header-anchor" href="#root-directory" aria-label="Permalink to &quot;Root Directory&quot;">​</a></h2><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>snaplark/</span></span>
<span class="line"><span>├── src/                    # Source code</span></span>
<span class="line"><span>├── resources/              # Build resources (icons)</span></span>
<span class="line"><span>├── docs/                   # Documentation (VitePress)</span></span>
<span class="line"><span>├── out/                    # Build output (generated)</span></span>
<span class="line"><span>├── .vite/                  # Vite build cache (generated)</span></span>
<span class="line"><span>├── node_modules/           # Dependencies (generated)</span></span>
<span class="line"><span>├── forge.config.js         # Electron Forge configuration</span></span>
<span class="line"><span>├── vite.main.config.mjs    # Vite config for main process</span></span>
<span class="line"><span>├── vite.renderer.config.mjs # Vite config for renderer</span></span>
<span class="line"><span>├── vite.preload.config.mjs # Vite config for preload</span></span>
<span class="line"><span>├── package.json            # Project manifest</span></span>
<span class="line"><span>├── entitlements.plist      # macOS permissions</span></span>
<span class="line"><span>├── index.html              # HTML entry point</span></span>
<span class="line"><span>├── tailwind.config.js      # Tailwind configuration</span></span>
<span class="line"><span>├── postcss.config.mjs      # PostCSS configuration</span></span>
<span class="line"><span>└── .env                    # Environment variables</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="source-directory-src" tabindex="-1">Source Directory (<code>src/</code>) <a class="header-anchor" href="#source-directory-src" aria-label="Permalink to &quot;Source Directory (\`src/\`)&quot;">​</a></h2><h3 id="entry-points" tabindex="-1">Entry Points <a class="header-anchor" href="#entry-points" aria-label="Permalink to &quot;Entry Points&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/</span></span>
<span class="line"><span>├── main.js         # Electron main process (920 lines)</span></span>
<span class="line"><span>├── preload.js      # Preload script - IPC bridge (166 lines)</span></span>
<span class="line"><span>├── renderer.js     # Vue app initialization (71 lines)</span></span>
<span class="line"><span>├── App.vue         # Root Vue component</span></span>
<span class="line"><span>├── store.js        # Pinia store definition</span></span>
<span class="line"><span>└── store-defaults.js # Default state values</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="main-js-main-process-entry" tabindex="-1"><code>main.js</code> - Main Process Entry <a class="header-anchor" href="#main-js-main-process-entry" aria-label="Permalink to &quot;\`main.js\` - Main Process Entry&quot;">​</a></h4><p>The main process is the heart of the Electron application. It handles:</p><ul><li>App lifecycle (<code>whenReady</code>, <code>activate</code>, <code>window-all-closed</code>)</li><li>Single instance lock enforcement</li><li>Window creation and management</li><li>Global shortcut registration</li><li>System tray setup</li><li>IPC handler registration</li><li>Permission checking (macOS)</li><li>Auto-update initialization</li><li>Deep link protocol handling (<code>snaplark://</code>)</li></ul><h4 id="preload-js-secure-bridge" tabindex="-1"><code>preload.js</code> - Secure Bridge <a class="header-anchor" href="#preload-js-secure-bridge" aria-label="Permalink to &quot;\`preload.js\` - Secure Bridge&quot;">​</a></h4><p>The preload script runs in a sandboxed environment with access to both Node.js and the DOM. It creates a secure bridge:</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Exposed APIs:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.electron           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// System operations</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.electronWindows    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Window management</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.electronNotifications </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Toast notifications</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.electronStore      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Persistent storage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.electronAuth       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Authentication handlers</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.electronConnectivity </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Network status</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="renderer-js-vue-initialization" tabindex="-1"><code>renderer.js</code> - Vue Initialization <a class="header-anchor" href="#renderer-js-vue-initialization" aria-label="Permalink to &quot;\`renderer.js\` - Vue Initialization&quot;">​</a></h4><p>Initializes the Vue application:</p><ol><li>Creates and mounts the Vue app</li><li>Initializes Pinia store</li><li>Sets up global event listeners for shortcuts</li><li>Handles authentication responses</li></ol><h3 id="services-src-services" tabindex="-1">Services (<code>src/services/</code>) <a class="header-anchor" href="#services-src-services" aria-label="Permalink to &quot;Services (\`src/services/\`)&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/services/</span></span>
<span class="line"><span>├── window-manager.js       # Window lifecycle (775 lines)</span></span>
<span class="line"><span>├── screenshot-service.js   # Screenshot capture (761 lines)</span></span>
<span class="line"><span>├── video-recording-service.js # Video recording (642 lines)</span></span>
<span class="line"><span>├── chunk-upload-manager.js # Video upload (655 lines)</span></span>
<span class="line"><span>├── shortcut-manager.js     # Keyboard shortcuts (504 lines)</span></span>
<span class="line"><span>├── system_tray.js          # System tray (176 lines)</span></span>
<span class="line"><span>├── notification-service.js # Toast notifications (143 lines)</span></span>
<span class="line"><span>├── store-service.js        # Cross-window sync (39 lines)</span></span>
<span class="line"><span>└── connectivity.js         # Network status (208 lines)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Each service is a class that encapsulates related functionality:</p><table tabindex="0"><thead><tr><th>Service</th><th>Responsibility</th></tr></thead><tbody><tr><td><code>WindowManager</code></td><td>Creates, tracks, and manages all application windows</td></tr><tr><td><code>ScreenshotService</code></td><td>Handles screenshot capture, cropping, and processing</td></tr><tr><td><code>VideoRecordingService</code></td><td>Manages video recording setup and coordination</td></tr><tr><td><code>ChunkUploadManager</code></td><td>Handles chunked video uploads with retry logic</td></tr><tr><td><code>ShortcutManager</code></td><td>Registers and manages global/local keyboard shortcuts</td></tr><tr><td><code>SystemTray</code></td><td>Creates and manages the system tray icon and menu</td></tr><tr><td><code>NotificationService</code></td><td>Shows toast notifications for upload progress</td></tr><tr><td><code>StoreService</code></td><td>Synchronizes state across multiple windows</td></tr><tr><td><code>ConnectivityService</code></td><td>Monitors and reports network connectivity status</td></tr></tbody></table><h3 id="components-src-components" tabindex="-1">Components (<code>src/components/</code>) <a class="header-anchor" href="#components-src-components" aria-label="Permalink to &quot;Components (\`src/components/\`)&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/components/</span></span>
<span class="line"><span>├── KonvaEditor.vue         # Drawing/annotation canvas (1066 lines)</span></span>
<span class="line"><span>├── VideoPlayer.vue         # Video playback component</span></span>
<span class="line"><span>├── VideoPreview.vue        # Recording preview</span></span>
<span class="line"><span>├── UploadNotification.vue  # Upload progress toast</span></span>
<span class="line"><span>├── SettingsHotkeyItem.vue  # Hotkey configuration row</span></span>
<span class="line"><span>├── SettingsSwitchItem.vue  # Toggle switch setting</span></span>
<span class="line"><span>├── ColorPalette.vue        # Color picker popup</span></span>
<span class="line"><span>├── SizeIndicatorPill.vue   # Dimension display badge</span></span>
<span class="line"><span>├── Toast.vue               # Toast notification</span></span>
<span class="line"><span>├── Tooltip.vue             # Hover tooltip</span></span>
<span class="line"><span>└── icons/                  # SVG icon components (28 files)</span></span>
<span class="line"><span>    ├── ArrowIcon.vue</span></span>
<span class="line"><span>    ├── BlurIcon.vue</span></span>
<span class="line"><span>    ├── CheckIcon.vue</span></span>
<span class="line"><span>    ├── DeleteIcon.vue</span></span>
<span class="line"><span>    ├── PencilIcon.vue</span></span>
<span class="line"><span>    └── ... (more icons)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="views-src-views" tabindex="-1">Views (<code>src/views/</code>) <a class="header-anchor" href="#views-src-views" aria-label="Permalink to &quot;Views (\`src/views/\`)&quot;">​</a></h3><p>Each view corresponds to a window type:</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/views/</span></span>
<span class="line"><span>├── MainView.vue            # Quick access menu (main window)</span></span>
<span class="line"><span>├── LoginView.vue           # Authentication screen</span></span>
<span class="line"><span>├── SettingsView.vue        # Settings (tabbed interface)</span></span>
<span class="line"><span>├── WelcomeView.vue         # First-run onboarding</span></span>
<span class="line"><span>├── ScreenshotView.vue      # Screenshot selection UI</span></span>
<span class="line"><span>├── VideoRecordingView.vue  # Recording setup interface</span></span>
<span class="line"><span>├── WebcamView.vue          # Webcam preview window</span></span>
<span class="line"><span>├── DesignView.vue          # Annotation editor</span></span>
<span class="line"><span>├── NotificationsView.vue   # Upload progress toasts</span></span>
<span class="line"><span>├── PermissionsView.vue     # macOS permission requests</span></span>
<span class="line"><span>└── RecordingOverlayView.vue # Floating recording controls</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="composables-src-composables" tabindex="-1">Composables (<code>src/composables/</code>) <a class="header-anchor" href="#composables-src-composables" aria-label="Permalink to &quot;Composables (\`src/composables/\`)&quot;">​</a></h3><p>Vue composition functions for shared logic:</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/composables/</span></span>
<span class="line"><span>├── useRecorder.js          # Recording state and methods</span></span>
<span class="line"><span>└── useWindows.js           # Window operation helpers</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="api-src-api" tabindex="-1">API (<code>src/api/</code>) <a class="header-anchor" href="#api-src-api" aria-label="Permalink to &quot;API (\`src/api/\`)&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/api/</span></span>
<span class="line"><span>└── config.js               # API client configuration (125 lines)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Contains:</p><ul><li>Base URL configuration (<code>https://snaplark.com/api/v1</code>)</li><li>Axios client with interceptors</li><li>Token management (get, set, remove)</li><li>Error handling (401 auto-logout, network errors)</li></ul><h3 id="configuration-src-config" tabindex="-1">Configuration (<code>src/config/</code>) <a class="header-anchor" href="#configuration-src-config" aria-label="Permalink to &quot;Configuration (\`src/config/\`)&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/config/</span></span>
<span class="line"><span>└── shortcuts.js            # Shortcut definitions</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Defines all keyboard shortcuts with:</p><ul><li>ID, store key, type (global/local)</li><li>Default values for each platform</li><li>Description for UI display</li></ul><h3 id="router-src-router" tabindex="-1">Router (<code>src/router/</code>) <a class="header-anchor" href="#router-src-router" aria-label="Permalink to &quot;Router (\`src/router/\`)&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/router/</span></span>
<span class="line"><span>└── index.js                # Vue Router configuration (138 lines)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Defines routes for each window type with:</p><ul><li>Path-to-component mapping</li><li>Window type metadata</li><li>Navigation guards</li></ul><h3 id="assets-src-assets" tabindex="-1">Assets (<code>src/assets/</code>) <a class="header-anchor" href="#assets-src-assets" aria-label="Permalink to &quot;Assets (\`src/assets/\`)&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/assets/</span></span>
<span class="line"><span>├── icons/</span></span>
<span class="line"><span>│   ├── icon.icns           # macOS app icon</span></span>
<span class="line"><span>│   ├── icon.ico            # Windows app icon</span></span>
<span class="line"><span>│   ├── icon.png            # Source icon</span></span>
<span class="line"><span>│   ├── background.png      # DMG background</span></span>
<span class="line"><span>│   └── loading.gif         # Windows installer loading</span></span>
<span class="line"><span>├── backgrounds/            # UI backgrounds</span></span>
<span class="line"><span>├── logo.svg               # App logo</span></span>
<span class="line"><span>└── main.css               # Global styles (Tailwind)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="build-resources-resources" tabindex="-1">Build Resources (<code>resources/</code>) <a class="header-anchor" href="#build-resources-resources" aria-label="Permalink to &quot;Build Resources (\`resources/\`)&quot;">​</a></h2><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>resources/</span></span>
<span class="line"><span>└── icons/</span></span>
<span class="line"><span>    ├── tray.png            # macOS tray icon</span></span>
<span class="line"><span>    └── win-tray.ico        # Windows tray icon</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="file-size-reference" tabindex="-1">File Size Reference <a class="header-anchor" href="#file-size-reference" aria-label="Permalink to &quot;File Size Reference&quot;">​</a></h2><p>Understanding file complexity by line count:</p><table tabindex="0"><thead><tr><th>File</th><th>Lines</th><th>Complexity</th></tr></thead><tbody><tr><td><code>KonvaEditor.vue</code></td><td>1,066</td><td>Very High</td></tr><tr><td><code>main.js</code></td><td>920</td><td>Very High</td></tr><tr><td><code>window-manager.js</code></td><td>775</td><td>High</td></tr><tr><td><code>screenshot-service.js</code></td><td>761</td><td>High</td></tr><tr><td><code>chunk-upload-manager.js</code></td><td>655</td><td>High</td></tr><tr><td><code>video-recording-service.js</code></td><td>642</td><td>High</td></tr><tr><td><code>shortcut-manager.js</code></td><td>504</td><td>Medium</td></tr><tr><td><code>connectivity.js</code></td><td>208</td><td>Medium</td></tr><tr><td><code>system_tray.js</code></td><td>176</td><td>Low</td></tr><tr><td><code>preload.js</code></td><td>166</td><td>Low</td></tr></tbody></table><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li><a href="/snaplark-docs/guide/tech-stack.html">Technology Stack</a> - Learn about the technologies used</li><li><a href="/snaplark-docs/architecture/overview.html">Architecture Overview</a> - Understand how components work together</li></ul>`,49)])])}const h=n(r,[["render",p]]);export{b as __pageData,h as default};
